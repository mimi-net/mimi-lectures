= Концентратор (репитор, хаб)

Чтобы организовать компьютерную сеть с топологией звезда, нам нужно сетевое оборудование. Простейшим сетевым оборудованием является хаб.

.Хаб
image::{docdir}/images/hub.png[Хаб]

Хаб работает на физическом уровне модели ISO/OSI и представляет собой небольшую коробку с портами для подключения (рисунок 27, справа).

Получив сигнал на любой из подключенных портов, хаб передает его во все остальные подключенные порты. Таким образом, если мы построим сеть их 3-х хостов, как изображено на рисунке ниже и отправим пакет от хоста 1 к хосту 2, то хост 3 также получит этот пакет. Так как хаб, получив пакет от хоста 1 отправит его во все свои остальные активные порты.

.Сеть из 3-х хостов с использованием хаба (https://miminet.ru/web_network?guid=c4627fb9-a1da-4919-b97e-adce598a3464)
image::{docdir}/images/hub_example.png[Сеть из 3-х хостов с использованием хаба (https://miminet.ru/web_network?guid=c4627fb9-a1da-4919-b97e-adce598a3464)]

NOTE: На сервисе miminet.ru вы можете самостоятельно воссоздать такую сеть и убедиться, что она работает так, как и описано. Или можете просто открыть сеть по ссылке и запустить анимацию.

NOTE: Здесь и далее на рисунках сети вы будете видеть рядом с хостами  подпись вида 10.0.0.2/24. Это так записаны IP адрес/маска хоста. Что это такое мы разберем чуть ниже. А пока это можно интерпретировать как уникальный идентификатор хоста.

Давайте попробуем усложнить схему. Соберем сеть из нескольких хабов и узлов. Как показано на рисунке. С помощью команды ping отправим пакет от хоста 1 к хосту 2 и посмотрим что произойдет.

.Большая сеть из хабов (https://miminet.ru/web_network?guid=f23fbe16-031b-46ea-8de5-41d5550cc7bc))
image::{docdir}/images/hub_example2.png[Большая сеть из хабов (https://miminet.ru/web_network?guid=f23fbe16-031b-46ea-8de5-41d5550cc7bc)]

Запустив такую сеть мы увидим, что все пакеты, которыми будут обмениваться хост 1 (host_1) и хост 2 (host_2) будут доставлены и на хост 3 и на хост 4. Так как хаб работает на физическом уровне и все что он делает - пересылает полученные пакеты во все свои активные порты.

Основная проблема такой сети заключается в том, что скорость передачи данных в сети падает с ростом количества узлов.

Допустим, у нас есть сеть из 3-х хостов и скорость передачи данных 10 Мбит/сек. В такой сети, для 3-х хостов, средняя скорость передачи данных для каждого узла будет около 3 Мбит/сек.

Если хост 3 захочет отправить данные в сети, он должен будет убедиться, что хост 1 и хост 2 ничего не отправляют. Если в сети будет 10 хостов, то вероятность, что все 9 хостов на текущий момент ничего не отправляют сеть еще ниже. А значит, ниже вероятность того, что наш хост сможет отправить пакет сейчас.

На моей практике, сеть из 40-50 хостов на хабах работает ощутимо медленно.

Помимо проблемы со скоростью и коллизий, сеть на хабах небезопасна, так как позволяет прослушивать чужие пакеты.
